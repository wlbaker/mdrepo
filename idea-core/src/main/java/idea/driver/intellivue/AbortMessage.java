package idea.driver.intellivue;

import java.nio.ByteBuffer;

public class AbortMessage {

	private final static byte [] abort_blob = new byte [] {
		(byte)0xC1, 0x29, (byte)0xA0, (byte)0x80, (byte)0xA0, (byte)0x80, 0x30, (byte)0x80,
		0x02, 0x01, 0x01, 0x06, 0x02, 0x51, 0x01, 0x00,
		0x00, 0x00, 0x00, 0x61, (byte)0x80, 0x30, (byte)0x80, 0x02,
		0x01, 0x01, (byte)0xA0, (byte)0x80, 0x64, (byte)0x80, (byte)0x80, 0x01,
		0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	};

	private final static byte [] abort_trailer = new byte [] {
		0x00, 0x00, 0x00, 0x00
	};
	
	public static ByteBuffer build( ByteBuffer pkt ) {
		if( pkt == null ) {
			pkt = ByteBuffer.allocate( 0x30 );
			pkt.put( C.AB_SPDU_SI );
			pkt.put( (byte)0x2e );  // length
			pkt.put( (byte) 0x11 );
			pkt.put( (byte) 0x01 );
			pkt.put( (byte) 0x03 );
			pkt.put( abort_blob );
			pkt.put( abort_trailer );
		}
		return pkt;
	}

}
